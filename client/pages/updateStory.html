<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <title>Modifier Histoire</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <link rel="StyleSheet" href="../assets/style/style.newStory.css" />
    <script src="https://secure.exportkit.com/cdn/js/ek_googlefonts.js?v=6"></script>
    <script type="module" src="../assets/js/tasks/uploadImage.js"></script>
</head>

<body>
    <article>
        <div class="rectangle-1"></div>
        <div class="c-lins-du-soir">Câlins du soir</div>
        <div class="teenyicons-bin-outline"></div>
        <div class="bouton-histoires-page"></div>
        <div class="nouvelle-histoire">Nouvelle Histoire</div>
        <a class="ellipse-3"></a>
        <svg class="teenyicons-bin-solid" width="38" height="38" viewBox="0 0 38 38" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_66_334)">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M27.8667 7.6V3.8C27.8667 2.79218 27.4663 1.82563 26.7537 1.11299C26.041 0.400356 25.0745 0 24.0667 0L13.9333 0C12.9255 0 11.959 0.400356 11.2463 1.11299C10.5337 1.82563 10.1333 2.79218 10.1333 3.8V7.6H0V10.1333H2.53333V34.2C2.53333 35.2078 2.93369 36.1744 3.64633 36.887C4.35897 37.5996 5.32551 38 6.33333 38H31.6667C32.6745 38 33.641 37.5996 34.3537 36.887C35.0663 36.1744 35.4667 35.2078 35.4667 34.2V10.1333H38V7.6H27.8667ZM12.6667 3.8C12.6667 3.46406 12.8001 3.14188 13.0377 2.90433C13.2752 2.66679 13.5974 2.53333 13.9333 2.53333H24.0667C24.4026 2.53333 24.7248 2.66679 24.9623 2.90433C25.1999 3.14188 25.3333 3.46406 25.3333 3.8V7.6H12.6667V3.8ZM17.7333 17.7333V30.4H20.2667V17.7333H17.7333ZM10.1333 30.4V22.8H12.6667V30.4H10.1333ZM25.3333 22.8V30.4H27.8667V22.8H25.3333Z"
                    fill="#B071FF" fill-opacity="0.9" />
            </g>
            <defs>
                <clipPath id="clip0_66_334">
                    <rect width="38" height="38" fill="white" />
                </clipPath>
            </defs>
        </svg>

        <div onclick='window.location.href="../"'>
            <div class="group-39">
                <a class="ellipse-32"></a>
                <svg class="mi-home" width="49" height="47" viewBox="0 0 49 47" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M23.1443 4.41211C23.5179 4.09386 24.0003 3.91809 24.5 3.91809C24.9997 3.91809 25.482 4.09386 25.8556 4.41211L44.2306 20.0788C44.6147 20.4288 44.842 20.9083 44.8643 21.416C44.8867 21.9237 44.7024 22.4198 44.3504 22.7997C43.9985 23.1795 43.5064 23.4132 42.9781 23.4514C42.4498 23.4896 41.9267 23.3294 41.5193 23.0045L40.8333 22.4229V37.2083C40.8333 38.2471 40.4031 39.2433 39.6373 39.9778C38.8715 40.7123 37.8329 41.125 36.75 41.125H12.25C11.167 41.125 10.1284 40.7123 9.36261 39.9778C8.59684 39.2433 8.16663 38.2471 8.16663 37.2083V22.4229L7.48063 23.0045C7.07323 23.3294 6.55014 23.4896 6.02186 23.4514C5.49357 23.4132 5.00147 23.1795 4.6495 22.7997C4.29753 22.4198 4.11325 21.9237 4.13561 21.416C4.15796 20.9083 4.38519 20.4288 4.7693 20.0788L23.1443 4.41211ZM12.25 18.9371V37.2083H18.375V27.4167C18.375 26.8973 18.5901 26.3992 18.973 26.0319C19.3558 25.6646 19.8751 25.4583 20.4166 25.4583H28.5833C29.1248 25.4583 29.6441 25.6646 30.027 26.0319C30.4099 26.3992 30.625 26.8973 30.625 27.4167V37.2083H36.75V18.939L24.5 8.49524L12.25 18.9371ZM26.5416 37.2083V29.375H22.4583V37.2083H26.5416Z"
                        fill="#B071FF" fill-opacity="0.9" />
                </svg>
            </div>
        </div>
        <svg class="line-4" width="524.040283203125" height="0"></svg>
        <div class="rectangle-17"></div>
        <svg class="material-symbols-auto-stories-outline" width="49" height="38" viewBox="0 0 49 38" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
                d="M24.5001 31.6666C22.8667 30.6638 21.0973 29.8854 19.1917 29.3312C17.2862 28.777 15.3126 28.5 13.2709 28.5C11.8417 28.5 10.4384 28.6451 9.061 28.9354C7.68355 29.2257 6.36464 29.6347 5.10425 30.1625C4.38966 30.4527 3.70094 30.4395 3.03808 30.1229C2.37522 29.8062 2.04311 29.3444 2.04175 28.7375V9.65829C2.04175 9.36801 2.13566 9.09093 2.3235 8.82704C2.51133 8.56315 2.79172 8.36524 3.16466 8.23329C4.72994 7.59996 6.36328 7.12496 8.06466 6.80829C9.76605 6.49163 11.5015 6.33329 13.2709 6.33329C15.2445 6.33329 17.1759 6.53121 19.0652 6.92704C20.9544 7.32288 22.766 7.91663 24.5001 8.70829V27.8666C26.2355 27.0222 28.056 26.3888 29.9615 25.9666C31.8671 25.5444 33.7897 25.3333 35.7292 25.3333C36.9542 25.3333 38.1541 25.4125 39.3287 25.5708C40.5033 25.7291 41.6855 25.9666 42.8751 26.2833V7.28329C43.3855 7.41524 43.8877 7.55404 44.3818 7.69971C44.8759 7.84538 45.3605 8.02324 45.8355 8.23329C46.2098 8.36524 46.4909 8.56315 46.6787 8.82704C46.8665 9.09093 46.9598 9.36801 46.9584 9.65829V28.7375C46.9584 29.3444 46.627 29.8062 45.9641 30.1229C45.3013 30.4395 44.6119 30.4527 43.8959 30.1625C42.6369 29.6347 41.3186 29.2257 39.9412 28.9354C38.5638 28.6451 37.1598 28.5 35.7292 28.5C33.6876 28.5 31.714 28.777 29.8084 29.3312C27.9029 29.8854 26.1334 30.6638 24.5001 31.6666ZM28.5834 23.75V8.70829L38.7917 0.791626V16.625L28.5834 23.75ZM20.4167 26.3229V10.6479C19.2938 10.2784 18.128 9.99502 16.9194 9.79763C15.7107 9.60024 14.4946 9.50102 13.2709 9.49996C12.0119 9.49996 10.7869 9.59232 9.59591 9.77704C8.40494 9.96177 7.248 10.2388 6.12508 10.6083V26.3229C7.31605 25.9798 8.49886 25.7291 9.6735 25.5708C10.8481 25.4125 12.0473 25.3333 13.2709 25.3333C14.4959 25.3333 15.6957 25.4125 16.8704 25.5708C18.045 25.7291 19.2271 25.9798 20.4167 26.3229Z"
                fill="#F5F5F5" />
        </svg>

        <div class="rectangle-172"></div>
        <div class="group-57">
            <div class="ajouter-une-nouvelle-histoire">
                Ajouter une nouvelle histoire
            </div>
        </div>
        <svg class="carbon-add-filled" width="40" height="40" viewBox="0 0 40 40" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
                d="M20 2.5C15.3761 2.5561 10.9575 4.41786 7.68767 7.68767C4.41786 10.9575 2.5561 15.3761 2.5 20C2.5561 24.6239 4.41786 29.0425 7.68767 32.3123C10.9575 35.5821 15.3761 37.4439 20 37.5C24.6239 37.4439 29.0425 35.5821 32.3123 32.3123C35.5821 29.0425 37.4439 24.6239 37.5 20C37.4439 15.3761 35.5821 10.9575 32.3123 7.68767C29.0425 4.41786 24.6239 2.5561 20 2.5ZM30 21.25H21.25V30H18.75V21.25H10V18.75H18.75V10H21.25V18.75H30V21.25Z"
                fill="#B071FF" fill-opacity="0.9" />
        </svg>

<input type="file" id="image-upload" accept="image/*" placeholder=".">
        <div id="dropzone" class="rectangle-6" onclick="document.getElementById('image-upload').click()"
            title="Ajouter l'image de couverture">
            <div>
                <svg class="union" width="121" height="123" viewBox="0 0 121 123" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M60.9844 0.269287C51.9123 0.269287 44.558 7.62361 44.558 16.6957V44.6966H17.7235C8.47509 44.6966 0.977783 52.1939 0.977783 61.4423C0.977783 70.6907 8.47508 78.188 17.7235 78.188H44.558V106.189C44.558 115.261 51.9123 122.615 60.9844 122.615C70.0564 122.615 77.4107 115.261 77.4107 106.189V78.188H104.245C113.494 78.188 120.991 70.6907 120.991 61.4423C120.991 52.1939 113.494 44.6966 104.245 44.6966H77.4107V16.6957C77.4107 7.62363 70.0564 0.269287 60.9844 0.269287Z"
                        fill="#D9D9D9" fill-opacity="0.48" />
                </svg>
                <div class="photo-de-l-histoire">Image de couverture</div>
            </div>
        </div>
        </input>
        <div class="rectangle-19"></div>
        <input id="title" class="titre" placeholder="Saisir le nom de l'histoire..." />

        <label class="nbr-chapitre" for="numberOfChapters">Nombre de chapitre:</label>
        <input class="rectangle-21" id="numberOfChapters" value="1" />
        <!--Augmenter le nombre de chapitre-->
        <div onclick="addNewChapter()" class="box-clicable">
            <svg class="carbon-add-filled-2" width="40" height="40" viewBox="0 0 40 40" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M20 2.5C15.3761 2.5561 10.9575 4.41786 7.68767 7.68767C4.41786 10.9575 2.5561 15.3761 2.5 20C2.5561 24.6239 4.41786 29.0425 7.68767 32.3123C10.9575 35.5821 15.3761 37.4439 20 37.5C24.6239 37.4439 29.0425 35.5821 32.3123 32.3123C35.5821 29.0425 37.4439 24.6239 37.5 20C37.4439 15.3761 35.5821 10.9575 32.3123 7.68767C29.0425 4.41786 24.6239 2.5561 20 2.5ZM30 21.25H21.25V30H18.75V21.25H10V18.75H18.75V10H21.25V18.75H30V21.25Z"
                    fill="#D9D9D9" fill-opacity="0.52" />
            </svg>
        </div>
        <!--Réduire le nombre de chapitre-->
        <div onclick="decreaseNumberOfChapters(); deleteChapter()" class="box-clicable">
            <svg class="zondicons-minus-solid" width="40" height="40" viewBox="0 0 40 40" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_121_7)">
                    <path
                        d="M17.5 37C12.8587 37 8.40752 35.0509 5.12563 31.5815C1.84374 28.1121 0 23.4065 0 18.5C0 13.5935 1.84374 8.88795 5.12563 5.41852C8.40752 1.9491 12.8587 0 17.5 0C22.1413 0 26.5925 1.9491 29.8744 5.41852C33.1563 8.88795 35 13.5935 35 18.5C35 23.4065 33.1563 28.1121 29.8744 31.5815C26.5925 35.0509 22.1413 37 17.5 37ZM26.25 16.65H8.75V20.35H26.25V16.65Z"
                        fill="#D9D9D9" fill-opacity="0.52" />
                </g>
                <defs>
                    <clipPath id="clip0_121_7">
                        <rect width="35" height="37" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div>

        <div class="rectangle-212"></div>
        <input id="releaseYear" class="ann-e" placeholder="Année de parution..." />

        <div class="rectangle-20"></div>
        <input id="author" class="auteur" placeholder="Nom de l’auteur..." />

        <div class="rectangle-202"></div>
        <input id="storyGenre" class="typeHistoire" placeholder="Type d'histoire..." />

        <div class="rectangle-213"></div>
        <textarea id="storyDescription" class="description-de-l-histoire"
            placeholder="Description de l’histoire...."></textarea>

        <div class="group-42">
            <button type="button" class="bouton-accueil" id="enregistrer">Enregistrer</button>
            <svg class="fluent-save-20-regular" width="44" height="41" viewBox="0 0 44 41" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M6.6001 10.25C6.6001 9.16261 7.06367 8.11975 7.88883 7.35086C8.71399 6.58196 9.83315 6.14999 11.0001 6.14999H29.4339C30.6008 6.15023 31.7197 6.58234 32.5447 7.35129L36.1109 10.6743C36.9361 11.4431 37.3998 12.4857 37.4001 13.573V30.75C37.4001 31.8374 36.9365 32.8802 36.1114 33.6491C35.2862 34.418 34.1671 34.85 33.0001 34.85H11.0001C9.83315 34.85 8.71399 34.418 7.88883 33.6491C7.06367 32.8802 6.6001 31.8374 6.6001 30.75V10.25ZM11.0001 8.19999C10.4166 8.19999 9.85704 8.41598 9.44446 8.80043C9.03188 9.18487 8.8001 9.7063 8.8001 10.25V30.75C8.8001 31.2937 9.03188 31.8151 9.44446 32.1996C9.85704 32.584 10.4166 32.8 11.0001 32.8V23.575C11.0001 22.7595 11.3478 21.9773 11.9666 21.4006C12.5855 20.824 13.4249 20.5 14.3001 20.5H29.7001C30.5753 20.5 31.4147 20.824 32.0336 21.4006C32.6524 21.9773 33.0001 22.7595 33.0001 23.575V32.8C33.5836 32.8 34.1432 32.584 34.5557 32.1996C34.9683 31.8151 35.2001 31.2937 35.2001 30.75V13.573C35.2 13.0294 34.9681 12.5081 34.5555 12.1237L30.9893 8.80064C30.5768 8.41617 30.0173 8.20011 29.4339 8.19999H28.6001V13.325C28.6001 14.1405 28.2524 14.9227 27.6336 15.4993C27.0147 16.076 26.1753 16.4 25.3001 16.4H16.5001C15.6249 16.4 14.7855 16.076 14.1666 15.4993C13.5478 14.9227 13.2001 14.1405 13.2001 13.325V8.19999H11.0001ZM15.4001 8.19999V13.325C15.4001 13.5968 15.516 13.8576 15.7223 14.0498C15.9286 14.242 16.2084 14.35 16.5001 14.35H25.3001C25.5918 14.35 25.8716 14.242 26.0779 14.0498C26.2842 13.8576 26.4001 13.5968 26.4001 13.325V8.19999H15.4001ZM30.8001 32.8V23.575C30.8001 23.3031 30.6842 23.0424 30.4779 22.8502C30.2716 22.658 29.9918 22.55 29.7001 22.55H14.3001C14.0084 22.55 13.7286 22.658 13.5223 22.8502C13.316 23.0424 13.2001 23.3031 13.2001 23.575V32.8H30.8001Z"
                    fill="#607AFF" fill-opacity="0.9" />
            </svg>
        </div>
        <button type="button" class="bouton-accueil2" id="annuler"
            onclick='window.location.href="../"'>Annuler</button>
        <svg class="material-symbols-light-cancel" width="53" height="52" viewBox="0 0 53 52" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
                d="M18.537 35.334L26.4815 27.534L34.4259 35.334L35.9883 33.8L28.0439 26L35.9883 18.2L34.4259 16.666L26.4815 24.466L18.537 16.666L16.9746 18.2L24.9191 26L16.9746 33.8L18.537 35.334ZM26.4881 45.5C23.7428 45.5 21.1609 44.9887 18.7423 43.966C16.3251 42.9419 14.222 41.5523 12.433 39.7973C10.6441 38.0438 9.22805 35.9811 8.18498 33.6093C7.1419 31.2376 6.62036 28.7033 6.62036 26.0065C6.62036 23.3112 7.14116 20.7762 8.18277 18.4015C9.22584 16.0283 10.6411 13.9634 12.4286 12.207C14.2147 10.4506 16.3155 9.06028 18.7312 8.03617C21.1469 7.01206 23.7281 6.5 26.4749 6.5C29.2201 6.5 31.802 7.01133 34.2207 8.034C36.6379 9.05811 38.7409 10.4477 40.5299 12.2027C42.3189 13.9562 43.7349 16.0189 44.778 18.3907C45.821 20.7624 46.3426 23.2967 46.3426 25.9935C46.3426 28.6888 45.8218 31.2238 44.7802 33.5985C43.7371 35.9717 42.3218 38.0366 40.5343 39.793C38.7483 41.5494 36.6474 42.9397 34.2317 43.9638C31.816 44.9879 29.2348 45.5 26.4881 45.5Z"
                fill="#FF7070" />
        </svg>

        <div class="rectangle-22">
            <ul class="conteneur-chapitre" id="editableStoryZone">
                <li>
                    <div onclick="addNewChapter()" class="box-clicable">
                        <svg class="carbon-add-filled2" width="53" height="54" viewBox="0 0 53 54" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g filter="url(#filter0_d_67_72)">
                                <path
                                    d="M26.5 3.375C20.3734 3.45074 14.5186 5.96411 10.1862 10.3783C5.85367 14.7926 3.38684 20.7578 3.3125 27C3.38684 33.2422 5.85367 39.2074 10.1862 43.6217C14.5186 48.0359 20.3734 50.5493 26.5 50.625C32.6266 50.5493 38.4814 48.0359 42.8138 43.6217C47.1463 39.2074 49.6132 33.2422 49.6875 27C49.6132 20.7578 47.1463 14.7926 42.8138 10.3783C38.4814 5.96411 32.6266 3.45074 26.5 3.375ZM39.75 28.6875H28.1562V40.5H24.8438V28.6875H13.25V25.3125H24.8438V13.5H28.1562V25.3125H39.75V28.6875Z"
                                    fill="#D9D9D9" fill-opacity="0.52" />
                            </g>
                            <defs>
                                <filter id="filter0_d_67_72" x="-4" y="0" width="61" height="62"
                                    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                                    <feColorMatrix in="SourceAlpha" type="matrix"
                                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                                    <feOffset dy="4" />
                                    <feGaussianBlur stdDeviation="2" />
                                    <feComposite in2="hardAlpha" operator="out" />
                                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_67_72" />
                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_67_72"
                                        result="shape" />
                                </filter>
                            </defs>
                        </svg>
                    </div>

                    <div class="group-72">
                        <div class="rectangle-24"></div>
                        <input id="titre" class="titre-de-l-histoire" placeholder="Titre du chapitre ..." />
                    </div>

                    <div class="group-71">
                        <div class="rectangle-23"></div>
                        <p class="chapitre-1" id="change-chapter">Chapitre 1</p>
                    </div>

                    <div class="group-73">
                        <div class="rectangle-25"></div>
                        <textarea id="storyContent" class="contenue-du-chapitre"
                            placeholder="Il était une fois....."></textarea>
                    </div>
                </li>

            </ul>
        </div>

    </article>

    <script>
        // Fonction qui permet de récupérer le nombre de chapitre en entier
        function getNumberOfChapters() {
            if (document.getElementById("numberOfChapters").value == "") {
                document.getElementById("numberOfChapters").value = "1";
                return 1;
            } else {
                var numberOfChapters = document.getElementById("numberOfChapters").value;
                return parseInt(numberOfChapters);
            }
        }

        // Fonction qui permet d'augmenter le nombre de chapitre
        function increaseNumberOfChapters() {
            var numberOfChapters = getNumberOfChapters();
            numberOfChapters++;
            document.getElementById("numberOfChapters").value = numberOfChapters;
        }

        // Fonction qui permet de diminuer le nombre de chapitre
        function decreaseNumberOfChapters() {
            var numberOfChapters = getNumberOfChapters();
            if (numberOfChapters > 1) {
                numberOfChapters--;
                document.getElementById("numberOfChapters").value = numberOfChapters;
            }
        }

        // Afficher un nouveau chapitre en fonction du nombre de chapitre en l'ajoutant à la table
        function addNewChapter() {
            if (getNumberOfChapters() >= 1) {
                var numberOfChapters = getNumberOfChapters();
                var newli = document.createElement("li");
                newli.innerHTML =
                    "<div class=\"group-73\">\n" +
                    "    <div class=\"rectangle-25\"></div>\n" +
                    "    <textarea id=\"storyContent-" + numberOfChapters + "\" class=\"contenue-du-chapitre\"\n" +
                    "        placeholder=\"Il était une fois.....\"></textarea>\n" +
                    "</div>\n" +
                    "<div class=\"group-71\">\n" +
                    "    <div class=\"rectangle-23\"></div>\n" +
                    "    <p class=\"chapitre-1\" id=\"change-chapter-" + numberOfChapters + "\">Chapitre " + numberOfChapters + "</p>\n" +
                    "</div>\n" +
                    "<div class=\"group-72\"> \n" +
                    "    <div class=\"rectangle-24\"></div> \n" +
                    "    <input id=\"titre-" + numberOfChapters + "\" class=\"titre-de-l-histoire\" placeholder=\"Titre du chapitre ...\"> \n" +
                    "</div>";
                document.getElementById("editableStoryZone").appendChild(newli);
                increaseNumberOfChapters();
            }
        }


        // Fonction qui permet de supprimer un chapitre en fonction du numéro du chapitre
        function deleteChapter(chapterNumber) {
            var li = document.getElementById("editableStoryZone");
            li.removeChild(li.lastChild);
        }

        // Fonction qui permet d'afficher un nouveau chapitre en l'ajoutant à la page
        function displayNewChapter() {
            var numberOfChapters = getNumberOfChapters();
            var groupDiv = document.createElement("div");
            groupDiv.className = "group-73";

            var rectangleDiv = document.createElement("div");
            rectangleDiv.className = "rectangle-25";

            var textarea = document.createElement("textarea");
            textarea.className = "contenue-du-chapitre";
            textarea.placeholder = "Il était une fois.....";
            textarea.id = "storyContent" + numberOfChapters;

            groupDiv.appendChild(rectangleDiv);
            groupDiv.appendChild(textarea);
            document.body.appendChild(groupDiv);
        }

        // Fonction qui permet de changer le chapitre affiché
        function changeChapter(chapterNumber) {
            var chapters = document.getElementsByClassName("contenue-du-chapitre");
            for (var i = 0; i < chapters.length; i++) {
                chapters[i].style.display = "none";
            }
            document.getElementById("storyContent" + chapterNumber).style.display = "block";
        }

        // Fonction qui permet de sauvegarder une histoire en JSON
        function saveStory() {
            var story = {
                "title": document.getElementById("title").value,
                "releaseYear": document.getElementById("releaseYear").value,
                "author": document.getElementById("author").value,
                "storyGenre": document.getElementById("storyGenre").value,
                "storyDescription": document.getElementById("storyDescription").value,
                "numberOfChapters": getNumberOfChapters(),
                "chapters": []
            };

            for (var i = 1; i <= story.numberOfChapters; i++) {
                var chapter = {
                    "title": document.getElementById("titre").value,
                    "content": document.getElementById("storyContent" + i).value
                };
                story.chapters.push(chapter);
            }

            var storyJSON = JSON.stringify(story);
            console.log(storyJSON);
        }
    </script>

</body>

</html>